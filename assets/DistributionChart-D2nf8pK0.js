import{j as e,c as d,A as c,m as x,R as m,L as p}from"./index-QfQbKGkM.js";import{C as h,a as f,X as b,Y as g,T as v,B as y,b as u}from"./ComposedChart-B-nWJ9bb.js";const j=({results:s,sensitivityDeviation:t})=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsx("span",{className:"text-tiny font-bold text-(--text-tertiary) uppercase tracking-widest",children:"Deviation Heatmap"}),e.jsx("span",{className:"text-tiny font-bold text-(--text-tertiary) uppercase tracking-widest",children:"Digit 1-9"})]}),e.jsx("div",{className:"flex h-3 w-full rounded-full overflow-hidden bg-(--bg-base) border border-(--border-low)",children:s.map(r=>{const i=Math.abs(r.difference),l=t,n=t*.7,a=t*.4;let o="bg-[var(--color-anomaly-low)]";return i>l?o="bg-[var(--color-anomaly-high)]":i>n?o="bg-[var(--color-anomaly-medium)]":i>a&&(o="bg-[var(--color-anomaly-info)]"),e.jsx("div",{className:d("flex-1 h-full transition-all hover:opacity-80 cursor-help border-r border-(--bg-base)/50 last:border-r-0",o),title:`Digit ${r.digit}: ${(r.difference*100).toFixed(1)}% deviation`},r.digit)})})]}),w=({chartData:s,selectedDigit:t,onBarClick:r,results:i,sensitivityThresholdPercent:l,sensitivityDeviation:n})=>e.jsxs("div",{className:"lg:col-span-8 glass-panel p-10 relative group overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-(--brand-primary)/5 rounded-full blur-[100px] pointer-events-none"}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-12",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-header font-bold text-(--text-primary) flex items-center gap-3 tracking-tight",children:["Distribution Pattern",e.jsx(c,{children:t&&e.jsxs(x.span,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"text-tiny bg-(--brand-primary) text-(--brand-text) px-2.5 py-1 rounded-lg font-bold uppercase",children:["Digit ",t," Focus"]})})]}),e.jsx("p",{className:"text-caption text-(--text-tertiary) mt-1",children:"Empirical data vs. logarithmic theoretical frequency."})]}),e.jsxs("div",{className:"flex items-center gap-6 px-4 py-2 bg-(--bg-base)/50 rounded-2xl border border-(--border-low)/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-(--brand-primary) rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),e.jsx("span",{className:"text-tiny font-bold text-(--text-secondary) uppercase tracking-tighter",children:"Observed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-(--text-tertiary) rounded-full"}),e.jsx("span",{className:"text-tiny font-bold text-(--text-secondary) uppercase tracking-tighter",children:"Theoretical"})]})]})]}),e.jsx("div",{className:"h-100 w-full",children:e.jsx(m,{width:"100%",height:"100%",children:e.jsxs(h,{data:s,onClick:r,margin:{top:10,right:10,left:-20,bottom:0},children:[e.jsx(f,{strokeDasharray:"4 4",stroke:"var(--border-low)",vertical:!1}),e.jsx(b,{dataKey:"digit",stroke:"var(--text-tertiary)",fontSize:12,tickLine:!1,axisLine:!1,dy:10,fontFamily:"var(--font-mono)"}),e.jsx(g,{stroke:"var(--text-tertiary)",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:a=>`${a}%`,fontFamily:"var(--font-mono)"}),e.jsx(v,{cursor:{fill:"var(--bg-overlay)",fillOpacity:.1},contentStyle:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-low)",borderRadius:"20px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",padding:"16px"},itemStyle:{fontSize:"12px",fontWeight:"800",fontFamily:"var(--font-sans)",color:"var(--text-primary)"},labelStyle:{color:"var(--text-secondary)",marginBottom:"8px",fontSize:"10px",fontWeight:"bold",textTransform:"uppercase"}}),e.jsx(y,{dataKey:"observed",radius:[8,8,0,0],barSize:50,className:"cursor-pointer",children:s.map(a=>e.jsx(u,{fill:t===a.digit?"var(--brand-primary)":a.diff>l?"var(--color-anomaly-high)":"var(--border-high)",stroke:t===a.digit?"var(--text-primary)":"none",strokeWidth:2,fillOpacity:t&&t!==a.digit?.2:.9,className:"transition-all duration-500"},`cell-${a.digit}`))}),e.jsx(p,{type:"monotone",dataKey:"theoretical",stroke:"var(--text-tertiary)",strokeWidth:4,dot:{fill:"var(--bg-card)",r:5,strokeWidth:2,stroke:"var(--brand-primary)"},activeDot:{r:8,stroke:"var(--text-primary)",strokeWidth:3,fill:"var(--brand-primary)"}})]})})}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-zinc-800/50",children:[e.jsx("h4",{className:"text-tiny font-bold text-zinc-500 uppercase tracking-[0.2em] mb-6",children:"Deviation Intensity Heatmap"}),e.jsx(j,{results:i,sensitivityDeviation:n})]})]});export{w as default};

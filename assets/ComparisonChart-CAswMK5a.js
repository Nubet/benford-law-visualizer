import{r as k,a as i,c as L,b as A,S as N,d as W,u as _,s as B,e as T,f as F,g as I,h as K,i as H,k as z,l as R,n as j,j as d,R as $}from"./index-QfQbKGkM.js";import{u as M,g as q,C as U,a as V,X,Y,T as G,B as w}from"./ComposedChart-B-nWJ9bb.js";function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(null,arguments)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(n){J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J(e,t,r){return(t=Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q(e){var t=ee(e,"string");return typeof t=="symbol"?t:t+""}function ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f=32,te={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function re(e){var{data:t,iconType:r,inactiveColor:n}=e,a=f/2,l=f/6,v=f/3,s=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline"){var u;return i.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:f,y2:a,className:"recharts-legend-icon"})}if(c==="line")return i.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(v,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*v,",").concat(a,`
            H`).concat(f,"M").concat(2*v,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(v,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return i.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(f/8,"h").concat(f,"v").concat(f*3/4,"h").concat(-f,"z"),className:"recharts-legend-icon"});if(i.isValidElement(t.legendIcon)){var o=Z({},t);return delete o.legendIcon,i.cloneElement(t.legendIcon,o)}return i.createElement(W,{fill:s,cx:a,cy:a,size:f,sizeType:"diameter",type:c})}function ne(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:l,iconType:v}=e,s={x:0,y:0,width:f,height:f},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((o,g)=>{var h=o.formatter||a,x=L({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:o.inactive});if(o.type==="none")return null;var p=o.inactive?l:o.color,y=h?h(o.value,o,g):o.value;return i.createElement("li",b({className:x,style:c,key:"legend-item-".concat(g)},A(e,o,g)),i.createElement(N,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(y," legend icon")},i.createElement(re,{data:o,iconType:v,inactiveColor:l})),i.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},y))})}var ae=e=>{var t=k(e,te),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var l={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return i.createElement("ul",{className:"recharts-default-legend",style:l},i.createElement(ne,b({},t,{payload:r})))};function ie(){return _(B)}var oe=["contextPayload"];function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P.apply(null,arguments)}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(n){le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function le(e,t,r){return(t=ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ce(e){var t=se(e,"string");return typeof t=="symbol"?t:t+""}function se(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ue(e,t){if(e==null)return{};var r,n,a=de(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function de(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fe(e){return e.value}function ve(e){var{contextPayload:t}=e,r=ue(e,oe),n=q(t,e.payloadUniqBy,fe),a=m(m({},r),{},{payload:n});return i.isValidElement(e.content)?i.cloneElement(e.content,a):typeof e.content=="function"?i.createElement(e.content,a):i.createElement(ae,a)}function ge(e,t,r,n,a,l){var{layout:v,align:s,verticalAlign:c}=t,u,o;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&v==="vertical"?u={left:((n||0)-l.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?o={top:((a||0)-l.height)/2}:o=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),m(m({},u),o)}function pe(e){var t=z();return i.useEffect(()=>{t(R(e))},[t,e]),null}function he(e){var t=z();return i.useEffect(()=>(t(j(e)),()=>{t(j({width:0,height:0}))}),[t,e]),null}function me(e,t,r,n){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||n}:null}var ye={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function C(e){var t=k(e,ye),r=ie(),n=T(),a=F(),{width:l,height:v,wrapperStyle:s,portal:c}=t,[u,o]=M([r]),g=I(),h=K();if(g==null||h==null)return null;var x=g-(a?.left||0)-(a?.right||0),p=me(t.layout,v,l,x),y=c?s:m(m({position:"absolute",width:p?.width||l||"auto",height:p?.height||v||"auto"},ge(s,t,a,g,h,u)),s),O=c??n;if(O==null||r==null)return null;var D=i.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:o},i.createElement(pe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&i.createElement(he,{width:u.width,height:u.height}),i.createElement(ve,P({},t,p,{margin:a,chartWidth:g,chartHeight:h,contextPayload:r})));return H.createPortal(D,O)}C.displayName="Legend";const Pe=({leftResult:e,rightResult:t,chartData:r})=>d.jsxs("div",{className:"glass-panel p-10 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-100 h-100 bg-(--brand-primary)/2 rounded-full blur-[100px] pointer-events-none"}),d.jsx("h3",{className:"text-header font-bold text-(--text-primary) mb-10 tracking-tight",children:"Pattern Overlay Analysis"}),d.jsx("div",{className:"h-125",children:d.jsx($,{width:"100%",height:"100%",children:d.jsxs(U,{data:r,margin:{top:10,right:10,left:-20,bottom:0},children:[d.jsx(V,{strokeDasharray:"4 4",stroke:"var(--border-low)",vertical:!1}),d.jsx(X,{dataKey:"digit",stroke:"var(--text-tertiary)",fontSize:12,tickLine:!1,axisLine:!1,dy:10,fontFamily:"var(--font-mono)"}),d.jsx(Y,{stroke:"var(--text-tertiary)",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:n=>`${n}%`,fontFamily:"var(--font-mono)"}),d.jsx(G,{cursor:{fill:"var(--bg-overlay)",fillOpacity:.1},contentStyle:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-low)",borderRadius:"20px",padding:"16px"},itemStyle:{fontSize:"12px",fontWeight:"800",fontFamily:"var(--font-sans)",color:"var(--text-primary)"}}),d.jsx(C,{verticalAlign:"top",height:60,iconType:"circle",wrapperStyle:{fontSize:"10px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.1em",color:"var(--text-secondary)"}}),d.jsx(w,{dataKey:e.name,fill:"var(--brand-primary)",fillOpacity:.4,radius:[6,6,0,0],barSize:40}),d.jsx(w,{dataKey:t.name,fill:"var(--text-tertiary)",fillOpacity:.6,radius:[6,6,0,0],barSize:40})]})})})]});export{Pe as default};
